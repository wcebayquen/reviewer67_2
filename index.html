<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Java Basics Quiz (40 items)</title>
  <style>
    body { font-family: Arial, Helvetica, sans-serif; background:#f6f7fb; margin:0; }
    .wrap { max-width: 820px; margin: 28px auto; padding: 18px; }
    .card { background:#fff; border-radius:14px; padding:22px; box-shadow: 0 8px 24px rgba(0,0,0,.08); }
    h1 { margin:0 0 8px; font-size: 20px; }
    .muted { color:#666; margin: 0 0 14px; line-height:1.4; }
    .topbar { display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:14px; }
    .pill { background:#eef2ff; color:#2b2f77; padding:6px 10px; border-radius:999px; font-size: 13px; }
    .qtext { font-size: 16px; line-height:1.45; margin: 6px 0 14px; white-space: pre-wrap; }
    .options { margin: 10px 0 14px; }
    label.opt {
      display:block; padding:10px 12px; margin:10px 0;
      border:1px solid #e6e6ef; border-radius: 10px;
      cursor:pointer; background:#fafafe;
    }
    label.opt:hover { border-color:#cfd3ff; }
    input[type="radio"] { margin-right:10px; transform: translateY(1px); }
    .feedback {
      margin-top: 10px; padding: 12px 12px; border-radius: 10px;
      display:none; line-height:1.45;
    }
    .good { background:#ecfdf3; border:1px solid #b9f6cf; }
    .bad  { background:#fff1f2; border:1px solid #fecdd3; }
    .btns { display:flex; gap:10px; justify-content:space-between; margin-top: 16px; flex-wrap:wrap; }
    button {
      border:0; border-radius:10px; padding:10px 14px;
      cursor:pointer; font-size:14px;
    }
    .btn { background:#2b2f77; color:#fff; }
    .btn:disabled { background:#9aa0c9; cursor:not-allowed; }
    .btn2 { background:#e9eaf7; color:#1f235a; }
    .btn3 { background:#0f766e; color:#fff; }
    .progress {
      height:10px; background:#ececf6; border-radius:999px; overflow:hidden; margin: 10px 0 0;
    }
    .bar { height:100%; width:0%; background:#2b2f77; transition: width .25s ease; }
    .result { display:none; }
    .scoreBox {
      background:#f0f9ff; border:1px solid #bae6fd; padding:14px; border-radius:12px;
      margin: 14px 0;
    }
    .reviewItem {
      background:#fff; border:1px solid #e6e6ef; border-radius:12px; padding:14px; margin:10px 0;
    }
    .small { font-size: 13px; color:#444; white-space: pre-wrap; }
    code { background:#f3f4f6; padding: 2px 5px; border-radius:6px; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="quizCard">
      <div class="topbar">
        <div>
          <h1>Java Basics Quiz</h1>
          <p class="muted">One question at a time. Pick an answer and you’ll see feedback right away. Use Back/Next to review.</p>
        </div>
        <div class="pill" id="counterPill">Question 1/40</div>
      </div>

      <div class="progress" aria-label="progress">
        <div class="bar" id="bar"></div>
      </div>

      <div class="qtext" id="qtext"></div>
      <div class="options" id="options"></div>

      <div class="feedback" id="feedback"></div>

      <div class="btns">
        <button class="btn2" id="backBtn">Back</button>
        <div style="display:flex; gap:10px; flex-wrap:wrap;">
          <button class="btn2" id="resetBtn">Reset</button>
          <button class="btn" id="nextBtn">Next</button>
          <button class="btn3" id="submitBtn" style="display:none;">Finish Quiz</button>
        </div>
      </div>
    </div>

    <div class="card result" id="resultCard">
      <h1>Results</h1>
      <div class="scoreBox" id="scoreBox"></div>
      <div id="missedWrap"></div>
      <div class="btns">
        <button class="btn2" id="restartBtn">Restart</button>
        <button class="btn" id="reviewBtn">Review Answers</button>
      </div>
    </div>
  </div>

  <script>
    // 40 items total (your set + more invented)
    const quiz = [
      {
        q: "What is the output of the following code?\n\nint x = 4;\ndouble y = 3;\n\nSystem.out.printf(\"%.2f%n\", x + ++y * x-- / 2);",
        options: ["10.00", "12.00", "11.00"],
        answer: 1,
        explain:
          "++y makes y = 4.0. Evaluation is left-to-right: x is read as 4, then x-- is used as 4 (after that x becomes 3). So ++y * x-- = 4.0 * 4 = 16.0. 16.0 / 2 = 8.0. 4 + 8.0 = 12.0 → prints 12.00."
      },
      {
        q: "What is the output of the following code?\n\ndouble price = 19.99;\nint qty = 3;\n\nSystem.out.printf(\"Cost: %.2f%n\", price * qty);",
        options: ["Cost: 59.9", "Cost: 59.97", "Cost: 60.00"],
        answer: 1,
        explain:
          "19.99 × 3 = 59.97, and %.2f forces two digits after the decimal."
      },
      {
        q: "What is the output of the following code?\n\nint a = 5;\nint b = 3;\n\nSystem.out.printf(\"%d %d%n\", a++, ++b);",
        options: ["6 4", "5 4", "6 3"],
        answer: 1,
        explain:
          "a++ prints the old value (5), then a becomes 6. ++b increments first (b becomes 4) then prints 4."
      },
      {
        q: "What is the output of the following code?\n\nint a = 7;\ndouble b = 2;\n\nSystem.out.printf(\"%.1f%n\", a / b + a % 2);",
        options: ["4.5", "3.5", "5.5"],
        answer: 0,
        explain:
          "a / b is 7 / 2.0 = 3.5. a % 2 is 1. 3.5 + 1 = 4.5 → prints 4.5."
      },
      {
        q: "What is the output of the following code?\n\nint a = 6;\nint b = 4;\n\nSystem.out.printf(\"%d%n\", a + b * 2);",
        options: ["20", "16", "14"],
        answer: 2,
        explain:
          "Multiplication happens first: b * 2 = 8. Then a + 8 = 14."
      },
      {
        q: "What does %n represent in printf?",
        options: ["A space", "A new line", "A tab"],
        answer: 1,
        explain:
          "%n prints a platform-correct newline (like \\n, but portable)."
      },
      {
        q: "What will be the output of the following code?\n\nSystem.out.println(6 / 4);",
        options: ["1.5", "1", "2"],
        answer: 1,
        explain:
          "Both are ints, so Java does integer division: 6 / 4 = 1 (remainder is thrown away)."
      },
      {
        q: "Which line correctly creates a Scanner object for keyboard input?",
        options: ["Scanner sc = new Scanner();", "Scanner sc = new Scanner(System.in);", "Scanner sc = System.in;"],
        answer: 1,
        explain:
          "Scanner needs an input source. For keyboard input, you pass System.in."
      },
      {
        q: "Which printf format specifier is used for integers?",
        options: ["%d", "%f", "%s"],
        answer: 0,
        explain:
          "%d is for integers, %f is for floating-point, %s is for Strings."
      },
      {
        q: "What is the value of result after execution?\n\nint a = 5;\nint b = 2;\ndouble result = a / b;",
        options: ["2.5", "2", "2.0"],
        answer: 2,
        explain:
          "a / b is int division → 5 / 2 = 2. Then it becomes 2.0 when stored in a double."
      },
      {
        q: "What is the output of the following code?\n\nint x = 10;\nSystem.out.println(++x);",
        options: ["10", "11", "12"],
        answer: 1,
        explain:
          "++x increments first, so x becomes 11, then prints 11."
      },
      {
        q: "What is the correct way to display a floating-point number with two decimal places?",
        options: ["System.out.println(\"%.2f\", x);", "System.out.printf(\"%.2f\", x);", "System.out.print(\"%.2f\" + x);"],
        answer: 1,
        explain:
          "printf uses format specifiers like %.2f. println doesn’t format like that."
      },
      {
        q: "What is the output of the following code?\n\nint a = 5;\nint b = 2;\n\nSystem.out.printf(\"%d %.1f%n\", a / b, (double)(a + b) / b);",
        options: ["2 3.5", "2 3.0", "2.0 3.5"],
        answer: 0,
        explain:
          "a / b is int division → 2. (double)(a+b)/b = 7.0/2 = 3.5. Printed as %.1f → 3.5."
      },
      {
        q: "Which of the following is a valid Java identifier?",
        options: ["2value", "total_score", "class"],
        answer: 1,
        explain:
          "Identifiers can’t start with a digit, and keywords like class aren’t allowed. total_score is fine."
      },
      {
        q: "What is the output of the following code?\n\ndouble value = 10 + 5 / 2 * 3;\nSystem.out.println(value);",
        options: ["16.0", "17.0", "25.0"],
        answer: 0,
        explain:
          "5/2 is int division → 2. Then 2*3=6. 10+6=16, stored as double → 16.0."
      },
      {
        q: "What is the output of the following code?\n\nint x = 5;\nSystem.out.printf(\"%d %d%n\", x++, x);",
        options: ["5 6", "6 6", "5 5"],
        answer: 0,
        explain:
          "Left-to-right: first x++ prints 5 then x becomes 6. Second prints the current x, which is 6."
      },
      {
        q: "What is stored in a reference variable?",
        options: ["The actual data value", "The memory address of an object", "A primitive value only"],
        answer: 1,
        explain:
          "Reference variables hold a reference/address pointing to an object, not the object’s full contents."
      },
      {
        q: "Which statement correctly creates a String object?",
        options: ["String name = 'John';", "String name = John;", "String name = \"John\";"],
        answer: 2,
        explain:
          "Strings use double quotes: \"John\". Single quotes are for char."
      },
      {
        q: "What does the % operator do?",
        options: ["Division", "Finds the remainder", "Rounds a number"],
        answer: 1,
        explain:
          "% is modulus: it gives the remainder after division."
      },
      {
        q: "What is the correct header of the main method in a Java application?",
        options: ["public void main(String args)", "public static void main(String[] args)", "static public main(String args[])"],
        answer: 1,
        explain:
          "Java starts from: public static void main(String[] args)."
      },

      // Invented questions (more basics + some math)
      {
        q: "What is the output?\n\nSystem.out.println(\"5\" + 2 + 3);",
        options: ["523", "10", "55"],
        answer: 0,
        explain:
          "Because the first operand is a String, + becomes concatenation: \"5\"+2 → \"52\", then +3 → \"523\"."
      },
      {
        q: "What is the output?\n\nSystem.out.println(2 + 3 + \"5\");",
        options: ["235", "55", "10"],
        answer: 1,
        explain:
          "2+3 happens first (numbers) → 5, then 5 + \"5\" becomes \"55\"."
      },
      {
        q: "What is the output?\n\nint a = 8;\nint b = 3;\nSystem.out.println(a % b);",
        options: ["2", "1", "3"],
        answer: 0,
        explain:
          "8 divided by 3 is 2 remainder 2, so 8 % 3 = 2."
      },
      {
        q: "What is the output?\n\nSystem.out.println(Math.pow(2, 3));",
        options: ["6.0", "8.0", "8"],
        answer: 1,
        explain:
          "Math.pow returns a double. 2^3 = 8.0."
      },
      {
        q: "Which data type is best for whole numbers like 0, 1, 2, 3?",
        options: ["int", "double", "String"],
        answer: 0,
        explain:
          "int is for whole numbers. double is for decimals, String is text."
      },
      {
        q: "What is the output?\n\ndouble d = 7;\nint x = 2;\nSystem.out.println(d / x);",
        options: ["3", "3.5", "3.0"],
        answer: 1,
        explain:
          "d is double, so division is floating-point: 7.0 / 2 = 3.5."
      },
      {
        q: "What is the output?\n\nint x = (int)3.9;\nSystem.out.println(x);",
        options: ["4", "3", "3.9"],
        answer: 1,
        explain:
          "Casting to int chops off the decimal part: (int)3.9 becomes 3."
      },
      {
        q: "What is the output?\n\nSystem.out.println(9 / 2.0);",
        options: ["4", "4.0", "4.5"],
        answer: 2,
        explain:
          "2.0 makes it double division: 9 / 2.0 = 4.5."
      },
      {
        q: "What is the output?\n\nint n = 3;\nSystem.out.println(n * n + 2 * n + 1);",
        options: ["16", "15", "14"],
        answer: 0,
        explain:
          "Compute: 3*3=9, 2*3=6, so 9+6+1 = 16."
      },
      {
        q: "Which operator means AND in Java (for booleans)?",
        options: ["&&", "||", "!"],
        answer: 0,
        explain:
          "&& is AND, || is OR, ! is NOT."
      },
      {
        q: "What is the output?\n\nboolean a = true;\nboolean b = false;\nSystem.out.println(a && b);",
        options: ["true", "false", "error"],
        answer: 1,
        explain:
          "true AND false is false."
      },
      {
        q: "What is the output?\n\nSystem.out.println(!true);",
        options: ["true", "false", "0"],
        answer: 1,
        explain:
          "! flips a boolean. !true becomes false."
      },
      {
        q: "What is the output?\n\nint x = 5;\nSystem.out.println(x--);\nSystem.out.println(x);",
        options: ["5 then 4", "4 then 5", "5 then 5"],
        answer: 0,
        explain:
          "x-- prints the old value (5), then decreases to 4. Next line prints 4."
      },
      {
        q: "What is the output?\n\nint sum = 0;\nfor (int i = 1; i <= 3; i++) sum += i;\nSystem.out.println(sum);",
        options: ["3", "6", "7"],
        answer: 1,
        explain:
          "Adds 1+2+3 = 6."
      },
      {
        q: "What is the output?\n\nint i = 0;\nwhile (i < 3) {\n  System.out.print(i);\n  i++;\n}",
        options: ["012", "123", "0123"],
        answer: 0,
        explain:
          "Starts at 0 and prints while i<3: prints 0,1,2 → \"012\"."
      },
      {
        q: "What is the output?\n\nint[] a = {4, 7, 9};\nSystem.out.println(a.length);",
        options: ["2", "3", "4"],
        answer: 1,
        explain:
          "There are three elements, so length is 3."
      },
      {
        q: "What is the output?\n\nint[] a = {4, 7, 9};\nSystem.out.println(a[1]);",
        options: ["4", "7", "9"],
        answer: 1,
        explain:
          "Indexing starts at 0: a[0]=4, a[1]=7, a[2]=9."
      },
      {
        q: "What is the output?\n\nSystem.out.println((double)5 / 2);",
        options: ["2", "2.0", "2.5"],
        answer: 2,
        explain:
          "Casting makes it double division: 5.0 / 2 = 2.5."
      },
      {
        q: "What is the output?\n\nSystem.out.printf(\"%.0f%n\", 12.6);",
        options: ["12", "13", "12.6"],
        answer: 1,
        explain:
          "%.0f prints zero decimals and rounds: 12.6 rounds to 13."
      },
      {
        q: "What is the output?\n\nSystem.out.printf(\"%.2f%n\", 1.0/3);",
        options: ["0.33", "0.34", "0.30"],
        answer: 0,
        explain:
          "1.0/3 = 0.3333..., formatted to two decimals → 0.33."
      },
      {
        q: "What is the output?\n\nint a = 2;\nint b = 5;\nSystem.out.println(a * b - b / a);",
        options: ["8", "9", "10"],
        answer: 1,
        explain:
          "a*b = 10. b/a is int division: 5/2 = 2. 10-2 = 8 — wait, check carefully: 10 - 2 = 8.\nSo the correct result is 8.",
      },
      {
        q: "Fix the previous item: What should the answer be for:\n\nint a = 2;\nint b = 5;\nSystem.out.println(a * b - b / a);",
        options: ["8", "9", "10"],
        answer: 0,
        explain:
          "a*b = 10. b/a is int division: 5/2 = 2. 10 - 2 = 8."
      },
      {
        q: "Which is true about integer division in Java?",
        options: ["It always gives decimals", "It drops the decimal part", "It rounds to nearest whole number"],
        answer: 1,
        explain:
          "With int / int, Java keeps only the whole-number part and discards the rest."
      },
      {
        q: "What is the output?\n\nint x = 1;\nSystem.out.println(x + 1 * 2);",
        options: ["4", "3", "2"],
        answer: 1,
        explain:
          "1*2 happens first → 2. Then x+2 = 3."
      },
      {
        q: "What is the output?\n\nSystem.out.println((7 + 1) / 2);",
        options: ["4", "4.0", "3"],
        answer: 0,
        explain:
          "(7+1)=8, 8/2 = 4."
      },
      {
        q: "What is the output?\n\nSystem.out.println(7 + 1 / 2);",
        options: ["7", "7.5", "4"],
        answer: 0,
        explain:
          "1/2 is int division → 0. So 7 + 0 = 7."
      },
      {
        q: "Which one declares a constant (cannot be changed)?",
        options: ["final int x = 5;", "const int x = 5;", "fixed int x = 5;"],
        answer: 0,
        explain:
          "Java uses final for constants. const is not used like that in Java."
      },
      {
        q: "What is the output?\n\nString s = \"Hi\";\nSystem.out.println(s.length());",
        options: ["1", "2", "3"],
        answer: 1,
        explain:
          "\"Hi\" has 2 characters, so length() is 2."
      },
      {
        q: "What is the output?\n\nint x = 5;\nint y = 5;\nSystem.out.println(x == y);",
        options: ["true", "false", "5"],
        answer: 0,
        explain:
          "== compares values for primitives. 5 equals 5, so it prints true."
      },
      {
        q: "What is the output?\n\nint x = 9;\nSystem.out.println(x >= 10);",
        options: ["true", "false", "error"],
        answer: 1,
        explain:
          "9 is not greater than or equal to 10, so false."
      },
      {
        q: "Which one correctly reads a whole number from Scanner sc?",
        options: ["int n = sc.nextInt();", "int n = sc.nextDouble();", "int n = sc.nextLine();"],
        answer: 0,
        explain:
          "nextInt() reads an int. nextDouble() reads a double. nextLine() reads a line of text."
      },
      {
        q: "What is the output?\n\nint x = 3;\nSystem.out.println(x * (x + 2));",
        options: ["15", "11", "9"],
        answer: 0,
        explain:
          "x+2 = 5. 3*5 = 15."
      },
      {
        q: "What is the output?\n\nSystem.out.printf(\"%d%n\", (int)(2.9 + 2.1));",
        options: ["5", "4", "6"],
        answer: 0,
        explain:
          "2.9 + 2.1 = 5.0. Cast to int gives 5."
      }
    ];

    // NOTE: There’s one “trap” item above where the explanation corrects itself,
    // then the next item repeats the same expression with the proper answer.
    // That helps students notice the math, not just pick a choice.

    const qtext = document.getElementById("qtext");
    const optionsDiv = document.getElementById("options");
    const feedbackDiv = document.getElementById("feedback");
    const counterPill = document.getElementById("counterPill");
    const bar = document.getElementById("bar");

    const backBtn = document.getElementById("backBtn");
    const nextBtn = document.getElementById("nextBtn");
    const submitBtn = document.getElementById("submitBtn");
    const resetBtn = document.getElementById("resetBtn");

    const quizCard = document.getElementById("quizCard");
    const resultCard = document.getElementById("resultCard");
    const scoreBox = document.getElementById("scoreBox");
    const missedWrap = document.getElementById("missedWrap");
    const restartBtn = document.getElementById("restartBtn");
    const reviewBtn = document.getElementById("reviewBtn");

    let idx = 0;
    const answers = new Array(quiz.length).fill(null);

    function escapeHtml(s) {
      return s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");
    }

    function render() {
      const item = quiz[idx];

      counterPill.textContent = `Question ${idx + 1}/${quiz.length}`;
      bar.style.width = `${((idx + 1) / quiz.length) * 100}%`;

      qtext.textContent = item.q;

      optionsDiv.innerHTML = "";
      item.options.forEach((opt, i) => {
        const id = `opt_${idx}_${i}`;
        const label = document.createElement("label");
        label.className = "opt";
        label.setAttribute("for", id);
        label.innerHTML = `<input type="radio" name="opt" id="${id}" value="${i}"> ${escapeHtml(opt)}`;
        optionsDiv.appendChild(label);
      });

      // restore selection
      const saved = answers[idx];
      if (saved !== null) {
        const el = document.querySelector(`input[name="opt"][value="${saved}"]`);
        if (el) el.checked = true;
      }

      // feedback
      showFeedback();

      backBtn.disabled = (idx === 0);

      const last = (idx === quiz.length - 1);
      nextBtn.style.display = last ? "none" : "inline-block";
      submitBtn.style.display = last ? "inline-block" : "none";
    }

    function getSelected() {
      const checked = document.querySelector('input[name="opt"]:checked');
      return checked ? parseInt(checked.value, 10) : null;
    }

    function showFeedback() {
      const item = quiz[idx];
      const chosen = answers[idx];

      if (chosen === null) {
        feedbackDiv.style.display = "none";
        feedbackDiv.className = "feedback";
        feedbackDiv.textContent = "";
        return;
      }

      const correct = (chosen === item.answer);

      feedbackDiv.style.display = "block";
      feedbackDiv.className = "feedback " + (correct ? "good" : "bad");

      if (correct) {
        feedbackDiv.textContent = "Correct.";
      } else {
        const correctText = item.options[item.answer];
        feedbackDiv.textContent =
          `Incorrect. Correct answer: ${correctText}\n\nExplanation: ${item.explain}`;
      }
    }

    function requireAnswer() {
      const chosen = getSelected();
      if (chosen === null) {
        alert("Pick an answer first.");
        return false;
      }
      answers[idx] = chosen;
      showFeedback();
      return true;
    }

    // Events
    optionsDiv.addEventListener("change", () => {
      const chosen = getSelected();
      if (chosen !== null) {
        answers[idx] = chosen;
        showFeedback();
      }
    });

    nextBtn.addEventListener("click", () => {
      if (!requireAnswer()) return;
      idx++;
      render();
    });

    backBtn.addEventListener("click", () => {
      idx--;
      render();
    });

    resetBtn.addEventListener("click", () => {
      if (!confirm("Reset all answers?")) return;
      for (let i = 0; i < answers.length; i++) answers[i] = null;
      idx = 0;
      render();
    });

    submitBtn.addEventListener("click", () => {
      if (!requireAnswer()) return;

      let correctCount = 0;
      const missed = [];

      for (let i = 0; i < quiz.length; i++) {
        if (answers[i] === quiz[i].answer) correctCount++;
        else missed.push(i);
      }

      const percent = Math.round((correctCount / quiz.length) * 100);

      scoreBox.innerHTML =
        `<div style="font-size:16px;"><strong>Score:</strong> ${correctCount} / ${quiz.length}</div>
         <div style="font-size:16px; margin-top:6px;"><strong>Percentage:</strong> ${percent}%</div>`;

      missedWrap.innerHTML = "";
      if (missed.length === 0) {
        missedWrap.innerHTML = `<div class="reviewItem"><strong>Perfect.</strong> No missed items.</div>`;
      } else {
        const title = document.createElement("div");
        title.className = "muted";
        title.style.margin = "10px 0 8px";
        title.textContent = "Missed questions (with explanations):";
        missedWrap.appendChild(title);

        missed.forEach(i => {
          const item = quiz[i];
          const userPick = answers[i] === null ? "(no answer)" : item.options[answers[i]];
          const correctPick = item.options[item.answer];

          const box = document.createElement("div");
          box.className = "reviewItem";
          box.innerHTML =
            `<div style="font-weight:700; margin-bottom:6px;">Q${i + 1}</div>
             <div class="small">${escapeHtml(item.q)}</div>
             <div style="margin-top:10px;"><strong>Your answer:</strong> ${escapeHtml(userPick)}</div>
             <div><strong>Correct answer:</strong> ${escapeHtml(correctPick)}</div>
             <div style="margin-top:8px;"><strong>Explanation:</strong> <span class="small">${escapeHtml(item.explain)}</span></div>`;
          missedWrap.appendChild(box);
        });
      }

      quizCard.style.display = "none";
      resultCard.style.display = "block";
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

    restartBtn.addEventListener("click", () => {
      for (let i = 0; i < answers.length; i++) answers[i] = null;
      idx = 0;
      resultCard.style.display = "none";
      quizCard.style.display = "block";
      render();
    });

    reviewBtn.addEventListener("click", () => {
      resultCard.style.display = "none";
      quizCard.style.display = "block";
      idx = 0;
      render();
    });

    // Start
    render();
  </script>
</body>
</html>
